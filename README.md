# 数据上传(PG)适配工程说明

该工程主要包含两部分:

- 资讯上传
- 评论抓取上传

## 资讯上传

### 运行命令

`python main.py upload`

### 逻辑说明

`upload.py` 脚本中有主要的逻辑代码, 分成以下几部分:

1. 获取上传需要的信息
2. 适配资讯格式为线上需要的格式
3. 根据特定条件过滤资讯
4. 调用资讯存储接口上传资讯
5. 触发插入搜索引擎,评论抓取等任务

## 评论抓取上传

### 运行命令

`python main.py comment`

### 逻辑说明

`crawl_upload_comments.py` 脚本包含主要逻辑

1. 调用相应评论抓取爬虫,抓取评论数据
2. 调用评论上传接口上传评论

## _Note_

**业务逻辑中有很多需要注意的地方,详情请阅读代码**